{% extends "../main.html" %} 

{% block header %}
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<script type="text/javascript" src="/static/js/jquery-ui-1.8.18.custom.min.js"></script>
<link href="/static/css/custom-theme/jquery-ui-1.8.18.custom.css" rel="stylesheet" type="text/css" />
{% end %} 

{% block title %}Scoreboard{% end %} {% block content %}
<br>
<div id="real_time_bar" style="margin-left:-85px; min-width: 500px; width:800px; height: 400px;"></div>

<script>
<!-- Real Time Bar Graph-->
var bar_chart;

$(document).ready(function() {
	bar_chart = new Highcharts.Chart({
		chart: {
			renderTo: 'real_time_bar',
			type: 'column',
			margin: [ 50, 50, 100, 80],
			backgroundColor:'transparent',
		},
		title: {
			text: 'Root the Box'
		},
		subtitle: {
			text: 'Real-time Scoreboard'
		},
		xAxis: {
			categories: [
				{% for team in teams %}
					"{{team.team_name}}",
				{% end %}
			],
			labels: {
				rotation: -45,
				align: 'right',
				style: {
					font: 'normal 13px Verdana, sans-serif'
				}
			}
		},
		yAxis: {
			min: 0,
			title: {
				text: 'Current Scores'
			}
		},
		legend: {
			enabled: true
		},
		tooltip: {
			formatter: function() {
				return '<b>'+ this.x +'</b><br/>'+
					'Current Score: '+ Highcharts.numberFormat(this.y, 1);
			}
		},
			series: [{
			name: 'Score',
			
			data: [
				{% for team in teams %}
					{{cached_scores.find_current_score_by_team(team.team_name)}},
				{% end %}       
			       ],
			dataLabels: {
				enabled: true,
				rotation: -90,
				color: '#FFFFFF',
				align: 'right',
				x: -3,
				y: 10,
				formatter: function() {
					return this.y;
				},
				style: {
					font: 'normal 13px Verdana, sans-serif'
				}
			}
		}]
	});
});
	
</script>
{% end %}