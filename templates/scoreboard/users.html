{% extends "../main.html" %}

{% block title %}Hackers{% end %}

{% block content %}
    {% include ../notifier.html %}
    <div class="container">
    	<h1>Hackers</h1>
    	<br />
    	{% from models import Team %}
    	<div class='row'>
    		<div class='well'>
    			<table class='table table-striped'>
    				<thead>
    					<tr>
    						<th>#</th>
    						<th>Avatar</th>
    						<th>Name</th>
    						<th>Flags Captured</th>
    						<th>Back Account</th>
    						<th>Game Level</th>
    					</tr>
    				</thead>
    				<tbody id='hacker_table'>
    					{% for index, team in enumerate(Team.ranks()) %}
	    					<tr>
	    						<td>
	    							{{ index + 1 }}
	    						</td>
	    						<td>
	    							<div class='divAvatarHolder' style="background-repeat:no-repeat; background-position: center center; background-size: 380px auto; background-image: url('/avatars/{{ team.members[0].avatar }}'); height:75px; margin-top:10px">
	    							</div>
	    						</td>
	    						<td>
	    							{{ team.name }}
	    						</td>
	    						<td>
	    							{{ len(team.flags) }}
	    						<td/>
	    						<td>
	    							${{ team.money }}
	    						<td/>
	    						<td>
	    							{{ team.levels[-1].number }}
	    						<td/>
	    					<tr/>
    					{% end %}
    				</tbody>
    			</table>
    		</div>
    	</div>
    	{% for index, team in enumerate(Team.ranks()) %}
    		{% if index%2 is 0 %}
    			<div class='row'>
    		{% end %}
	    	<div class="span6">
	    	    <div id="{{ team.uuid }}" class='well'>
	    		    <h2 style="display:inline;">{{ team.name }}</h2>
	    		    <br />
	    	    	<h4 style="display:inline;">"{{ team.motto }}"</h4>
	    	    	{% set user = team.members[0] %}
	    	    	<div class='divImageContainer' style="background-repeat:no-repeat; background-position: center center; background-size: 380px auto; background-image: url('/avatars/{{ user.avatar }}'); height:200px; margin-top:10px"></div>
	    	    	<div class='divStatsContainer' style='margin-top:10px'>
						<strong>Current Level:</strong> {{ team.levels[-1].number }} <br />
						<strong>Bank Account:</strong> ${{ team.money }} <br />
						<strong>Flags Captured:</strong> {{ len(team.flags) }}<br />
	    	    	</div>
	    		</div>
	    	</div>
	    	{% if index%2 is not 0 %}
	    		</div>
	    	{% end %}
    	{% end %}
    </div>
{% end %}